"""
Stacks: Balanced Brackets

https://www.hackerrank.com/challenges/ctci-balanced-brackets
"""
import unittest


def is_matched(expr):
    pair_dict = {
        '}': '{',
        ']': '[',
        ')': '(',
    }
    stk = []

    for item in expr:
        if item in ['{', '[', '(']:
            stk.append(item)
        else:
            if len(stk) == 0:
                return False

            prev = stk.pop(-1)
            if pair_dict[item] != prev:
                return False

    if len(stk) > 0:
        return False

    return True


if __name__ == '__main__':
    t = int(input().strip())

    for a0 in range(t):
        expression = input().strip()
        if is_matched(expression) is True:
            print("YES")
        else:
            print("NO")


class TestBalancedBrackets(unittest.TestCase):
    def test_is_matched(self):
        self.assertEqual(
            True,
            is_matched("{[()]}")
        )

        self.assertEqual(
            False,
            is_matched("{[(])}")
        )

        self.assertEqual(
            True,
            is_matched("{{[[(())]]}}")
        )

        self.assertEqual(
            True,
            is_matched("{()[[[]]({{}[{}]}){((()))([[]]([]{}[]{{()({})[{(())[]}]([{[]}])}()[][[]]()[([{{{(){[[(()(([()]([][]()()){[{}][((()[()])[{(([([]{({})})](){[]{}[[[][{{{}{[()]{[]{}}}(())}}]()[{}{}{[[]][[]{{()}}]}{([[[]]({[]})]{}){}}][[{[()]}]][]{}]{}()]{}})([])){}}[{}[]]{}]){[{}]{{{}[()](){}}[[{}]]{[{}]}{}()([]){}[][]}([]((){[][]{[({{}}[[[][()]][[][]]{}]){[][[]()]{}}[]]({}[{(([[]()](){((({()(){([])()[{{[[{}][]]}(){}[][][[]{}[]{{[(([{}]))]()[]}(())}][([])[{(())}](())[]([[([])]])]}]}}({}{}))))}){{}}(({()}){})[](([]()()[{([]){}(){(({}[]))}}()](()){{}{}}){({})}[[([[]()][])()[]]()])(()))}])()}{({()})(([[]]{()}[]))}})()(){[]})()[{{{}}[]}{}{}[][(({}[[{}(){}]]){{[[]{[{(()[])((([[]])((())))){}[][]}]({})}(())]}{}((){{}((){[[][]]}([]){({}[[]({}{}){}])}(){})}(()))[]}({([][])})()){}]]}{(){}}()]{[]}{}[]{}{{}{}}[{}{{()}}]({(){[]}({}[]()[])({}{{{[]{{}}}{}[][{}[]][][]}[{{()}()[{}[]]{}([]())}]})[]({[]})})[]}{(())[[]]})[](){[[]{}]{}({{}(){[]}}[]{{}[[][]][]()}){{}}})[(()[])[()[[{}()]()]()[]]])][[]({([{{}}])})]]}}}}])]}))}]}")
        )